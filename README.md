# Check Subscription Bot

Простой Telegram-бот на `aiogram`, который проверяет подписку пользователя на определенные каналы или группы перед предоставлением доступа.

## Особенности
- Проверка подписки на несколько каналов/групп.
- Удобная настройка через вспомогательный скрипт `setup.py`.
- Автоматическое определение ID и ссылок каналов.
- Работает через `.env` файл.

## Требования
- Python 3.8+
- Токен бота от [@BotFather](https://t.me/BotFather)

## Установка

1. Склонируйте репозиторий или скачайте файлы.
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Создайте файл `.env` в корневой директории и добавьте ваш токен:
   ```env
   TGBOT=ваш_токен_бота
   ```

## Настройка каналов

Используйте `setup.py` для удобного добавления каналов, на которые должен быть подписан пользователь:

```bash
python setup.py
```

В меню доступны:
1. **Auto-Detect**: Перешлите пост из канала боту или отправьте сообщение в группе, где есть бот, чтобы он автоматически определил ID и ссылку.
2. **Manual Add**: Введите ссылку на канал вручную.
3. **List Saved**: Показать список уже добавленных каналов.
4. **Clear All**: Очистить список каналов.

> **Важно**: Бот должен быть администратором в целевых каналах, чтобы иметь возможность проверять статус участников.

## Запуск бота

После настройки каналов запустите основного бота:

```bash
python main.py
```

## Как это работает
1. Пользователь отправляет `/start`.
2. Бот проверяет его наличие в списке обязательных каналов.
3. Если пользователь не подписан, бот отправляет список ссылок и кнопку "Check Again" (Проверить снова).
4. Если пользователь подписан на все ресурсы, он получает доступ.
